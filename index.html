<!DOCTYPE html>
<html>
  <head>
    <title>Codebase Upload API Test - Windows Compatible</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h1>🚀 Codebase Upload API Test Client</h1>
      <div style="text-align: center; margin-bottom: 20px">
        <span id="server-status" class="status offline">Server Offline</span>
        <span id="server-url">http://localhost:8080</span>
      </div>

      <div class="section">
        <h3>🏥 1. Health Check</h3>
        <p>Test if the API server is running and responding.</p>
        <button onclick="testHealth()" id="health-btn">
          Check Server Health
        </button>
        <div id="health-response" class="response" style="display: none"></div>
      </div>

      <div class="section">
        <h3>📁 2. Upload Files</h3>
        <p>Select a directory to upload to the server.</p>
        <input
          type="file"
          id="fileInput"
          multiple
          webkitdirectory
          accept="*/*"
        />
        <br />
        <div id="file-info" class="file-info" style="display: none"></div>
        <div id="upload-progress" class="progress" style="display: none">
          <div id="progress-bar" class="progress-bar"></div>
        </div>
        <button onclick="uploadFiles()" id="upload-btn" disabled>
          Upload Selected Directory
        </button>
        <div id="upload-response" class="response" style="display: none"></div>
      </div>

      <div class="section">
        <h3>📋 3. List All Codebases</h3>
        <p>View all uploaded codebases on the server.</p>
        <button onclick="listCodebases()" id="list-btn">
          List All Codebases
        </button>
        <div id="list-response" class="response" style="display: none"></div>
      </div>

      <div class="section">
        <h3>🔍 4. Get Codebase Details</h3>
        <p>View files in a specific codebase by entering its UUID.</p>
        <input
          type="text"
          id="directoryId"
          placeholder="Enter Directory UUID (e.g., 550e8400-e29b-41d4-a716-446655440000)"
          style="width: 400px"
        />
        <br />
        <button onclick="getCodebaseDetails()" id="details-btn">
          Get Codebase Details
        </button>
        <div id="details-response" class="response" style="display: none"></div>
      </div>

      <!-- <div class="section">
        <h3>🛠️ Windows PowerShell Commands</h3>
        <p>If you prefer using PowerShell, here are the equivalent commands:</p>
        <div class="response">
          <pre>
# Health Check
Invoke-RestMethod -Uri "http://localhost:8080/health" -Method Get

# List Codebases
Invoke-RestMethod -Uri "http://localhost:8080/codebases" -Method Get

# Get Specific Codebase (replace UUID)
Invoke-RestMethod -Uri "http://localhost:8080/codebases/YOUR-UUID-HERE" -Method Get</pre
          >
        </div>
      </div> -->
    </div>

    <script src="index.js" charset="utf-8"></script>
  </body>
</html>
